<!-- #region header -->
<!-- Generated by @toolsync/builtin/package-readme. Do not edit manually, instead run `toolsync prepare`. -->

# @toolsync/monorepo

[![Homepage](https://img.shields.io/badge/docs-default)](https://toolsync.vercel.app)

No more setting up the same 100 tools when starting a new project

<!-- #endregion header -->

**Very opinionated** by default, but following **best practices** and easy to **customize**.

> [!NOTE]
> Still in development

<!-- #region about -->

## About

Toolsync is a set of tools to configure the development tools in your monorepo. Instead of manually configuring

- build tools (turborepo, tsup, next.js)
- formatters (eslint, [prettier](https://toolsync.vercel.app/docs/builtin/prettier))
- IDE Settings ([vscode](https://toolsync.vercel.app/docs/builtin/vscode))
- CI pipline ([GitHub Actions](https://toolsync.vercel.app/docs/builtin/github-actions))
- [etc.](https://toolsync.vercel.app/docs/builtin)

Toolsync will set them all up from a single (optional) config file, `toolsync.json`.

Check out our [**online documentation**](https://toolsync.vercel.app) to find out more.

<!-- #endregion about -->

<!-- #region packages -->
<!-- Generated by @toolsync/builtin/package-readme. Do not edit manually, instead run `toolsync prepare`. -->

## Packages

This repository contains the following packages:

| Name                                            | Description                                              | Links                                                                                                                     |
| ----------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| [@toolsync/builtin](packages/builtin-tools)     | Default toolsync plugins available                       | [![NPM Version](https://img.shields.io/npm/v/@toolsync/builtin)](https://www.npmjs.com/package/@toolsync/builtin)         |
| [@toolsync/cli](packages/cli)                   | The toolsync command line interface                      | [![NPM Version](https://img.shields.io/npm/v/@toolsync/cli)](https://www.npmjs.com/package/@toolsync/cli)                 |
| [@toolsync/core](packages/core)                 | Core functionality used in @toolsync/cli etc             | [![NPM Version](https://img.shields.io/npm/v/@toolsync/core)](https://www.npmjs.com/package/@toolsync/core)               |
| [@toolsync/create](packages/create)             | _no description_                                         | [![NPM Version](https://img.shields.io/npm/v/@toolsync/create)](https://www.npmjs.com/package/@toolsync/create)           |
| [@toolsync/logger](packages/logger)             | The logger we use                                        | [![NPM Version](https://img.shields.io/npm/v/@toolsync/logger)](https://www.npmjs.com/package/@toolsync/logger)           |
| [@toolsync/object-mods](packages/object-mods)   | Type-safe object manipulation utility                    | [![NPM Version](https://img.shields.io/npm/v/@toolsync/object-mods)](https://www.npmjs.com/package/@toolsync/object-mods) |
| [@toolsync/template](packages/template)         | Update sections of source files                          | [![NPM Version](https://img.shields.io/npm/v/@toolsync/template)](https://www.npmjs.com/package/@toolsync/template)       |
| [@repo/toolsync-plugins](packages/repo-plugins) | Some toolsync plugins we use in the toolsync monorepo :) |                                                                                                                           |
| [@toolsync/docs](docs)                          | The sources of toolsync.vercel.app                       |                                                                                                                           |

<!-- #endregion packages -->

## TODO

> Just a bunch of stuff we want to implement in the future

### Plugins

- [ ] Node
  - [ ] Set engines in root package.json
  - [ ] Set `node-version` in github actions workflows
- [x] Pnpm
  - [x] Set correct version in root packageManager
  - [x] Set version in github actions install steps
- [ ] Package metadata
  - [x] Sync meta fields like repository, url, author, etc.
  - [ ] Ensure private packages have the same scope (e.g. `@repo/`)
- [ ] Package readmes
  - [x] Header with package name, description, npm badge etc. for every package
  - [x] List of packages in Root readme
  - [ ] Generate mermaid dependency graph in root
- [ ] VScode
  - [x] Create settings.json based on other plugins
  - [ ] Gitignore .vscode folder
  - [ ] Generate devcontainers.json
  - [ ] Hide generated files in explorer (so users don't edit them directly)
- [x] prettier
  - [x] Create .prettierrc
  - [x] Add `format` script
  - [x] Add vscode extension if enabled
  - [ ] Add format task to turbo.json (if enabled)
- [x] Github Actions
  - [x] Basic CI workflow
- [ ] ignore-sync
  - [ ] Install
  - [x] setup "prepare" script
  - [ ] Create .prettierignore-sync if prettier is enabled
  - [x] Add file associations to vscode settings
- [ ] Turborepo
  - [x] Create turbo.json
  - [x] Create root scripts
  - [ ] Provide instructions on how to configure remote caching
  - [ ] Create generators for new packages
    - [ ] These should also init other tools
- [ ] Eslint
  - [ ] Ensure all packages have an eslint config file
  - [ ] Add vscode extension if enabled
  - [ ] Ignore coverage files - Sync "ignores" with gitignore etc.
  - [ ] Configure vscode setting "eslint.workingDirectories"
    - Check first if "mode": "auto" isn't enough
  - [ ] Configure vscode setting "editor.codeActionsOnSave"
    ```json
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": "explicit"
    }
    ```
  - [ ] Framework integration:
    - Create e.g. nextjs config if used
    - Disable nextjs eslint during build if github actions are used
- [ ] Publint
  - [ ] Ensure all packages have a "check-build" script
  - [ ] Add "check-build" to turbo.json if necessary
  - [ ] Add vscode extension if enabled
- [ ] @manypkg/cli
  - [ ] Run during check
- [ ] Changesets
  - [ ] Manage config file (?)
  - [ ] Setup github action
    - [ ] Provide instructions on how to configure GitHub settings (separate GITHUB_TOKEN)
  - [ ] Adjust "on" in ci workflow to include the default branch
  - [ ] Create a "prebuild" version of @changesets/cli that does not add 1000 runtime dependencies
- [ ] Payload
  - [ ] Adjust eslint config for importmap etc.
- [ ] Recommended: A builtin plugin that loads all other builtin plugins
- [ ] Config schema: Generate a json schema for config file(s)
- [x] CLI
  - [ ] `init` should install @toolsync/cli and @toolsync/builtin (if needed) and run "prepare"
  - [ ] `prepare` should set up tools, update readme etc. for each package
    - [x] Run from repo root to handle all packages
    - [ ] Should not run during CI to speed up build
  - [ ] `check` should call prepare and check if git status is clean - tovalidate setup during CI builds
    > `check` could be a v2 feature
- [ ] Github
  - [ ] Automatically update repo description + homepage
- [ ] Tailwind
  - [ ] Setup prettier plugin
- [ ] Renovatebot
  - [ ] Add renovate.json
- [ ] Vercel
  - [ ] Add vercel.json with node version etc.
  - [ ] VSCode: Add `"$schema": "https://openapi.vercel.sh/vercel.json"` for vercel.json files to vscode settings,
  - [ ] Un-ignore turbo.json for vercel to detect it
- Shadcn UI
  - [ ] Add vscode setting `"tailwindCSS.experimental.configFile": "packages/ui/src/styles/globals.css"` if inside a monorepo

## Core

- [ ] Allow configuration via package.json
- [ ] Store generated file hashes to detect user customizations: Warn if a file is modified by the user, ask to reset or add to "customized" files list (?)
- [ ] Allow individial packages to disable tools in their package.json (or toolsync.json ?)

  ```json filename="packages/my-package/package.json"
  {
    "toolsync": {
      "@toolsync/builtin/toolsync": {
        "prettier": false
      }
    }
  }
  ```

- [ ] Plugin's own default config should be loaded first so others/config file can override it

## Docs

- [ ] Add builtin plugins to search index
